\section{Обзор существующих решений}
\label{sec:Chapter2} \index{Chapter2}

\subsection{Эволюция представлений CAD-геометрии}

До появления глубоких моделей обратный инжиниринг CAD-объектов
основывался на \textit{детерминированных алгоритмах} преобразования
сеток в CSG-деревья или B-rep. Классические работы
InverseCSG~\cite{inala18_inversecsg} и GEOUNED~\cite{catalan24_geouned}
показали, что жёсткие эвристики плохо масштабируются на детали со
сложной историей построения. Переломный момент наступил в
2018--2021~гг., когда начали появляться первые \textit{нейронные}
парсеры CSG (CSGNet~\cite{sharma18_csgnet}) и первые попытки учить
трансформеры прямо на историях построения скетчей
(SketchGraph~\cite{ganin21_cadlanguage}). Параллельно в сообществе
шло обсуждение: какое представление (CSG, CS, B-rep)
является наилучшим носителем семантики для обучения. Сегодня можно
наблюдать следующую тенденцию:

\begin{itemize}
	\item \textbf{CSG} остаётся привлекательным из-за компактности
	      дерева, однако плохо описывает свободные формы и трудно
	      конвертируется обратно в B-rep;
	\item \textbf{CS} даёт точное соответствие
	      средам CAD, хорошо компилируется и позволяет производить
	      редактирование. Именно это представление доминирует
	      в современных SOTA-моделях (DeepCAD, CAD-SIGNet, CADRecode,
	      \textit{cadrille});
	\item \textbf{B-rep} используется, когда цель — непосредственная
	      генерация замкнутого контура
	      (BrepGen~\cite{xu24_brepgen}, SolidGen~\cite{jayaraman22_solidgen}).
	      Однако отсутствие явной истории построения затрудняет
	      интерпретацию.
\end{itemize}

\subsection{Разновидности входных данных}

Входными данными для генерации CAD объекта могут выступать Text/Image/PointCloud. Давайте рассмотрим дендеции каждого направления:

\begin{enumerate}
	\item \textbf{Image2CAD.} Ранние работы строились на
	      CNN+GRU-декодере, сегодня лидируют VLM-гибриды:
	      OpenECAD~\cite{yuan24_openecad},
	      Img2CAD~\cite{uy24_img2cad_vlm},
	      CAD-MLLM~\cite{xu24_cadmllm};
	\item \textbf{PointCloud2CAD.} Линия эволюции начинается с DeepCAD,
	      проходит через CAD-SIGNet~\cite{dupont24_cadsignet},
	      TransCAD~\cite{dupont24_transcad} и выходит на
	      CADRecode~\cite{rukhovich24_cadrecode} и
	      \textit{cadrille}~\cite{kolodiazhnyi25_cadrille}, где облако
	      точек стало лишь одной из модальностей входа для LLM-декодера;
	\item \textbf{Text2CAD.} Первые пробы пера
	      (Query2CAD~\cite{badagabettu24_query2cad},
	      Text2CAD~\cite{khan24_text2cad}) показали, что GPT-подобные
	      модели способны описывать простые детали, но требуют жёсткого
	      \textit{self-refine}. Современные решения предпочитают
	      мультимодальный conditioning (\textit{cadrille}).
\end{enumerate}

\subsection{Датасеты}

Ниже приведены ключевые публичные коллекции
(табл.~\ref{tab:datasets}).

\begin{table}[h]
	\centering
	\caption{Крупнейшие открытые CAD-датасеты}
	\label{tab:datasets}
	\begin{tabular}{l@{\hspace{2em}}r}
		\toprule
		Датасет   & Количество моделей \\
		\midrule
		ABC       & 1\,000\,000        \\
		DiffCAD   & 318\,229           \\
		Fusion360 & 231\,000           \\
		OpenECAD  & 200\,000           \\
		DeepCAD   & 178\,238           \\
		\bottomrule
	\end{tabular}
\end{table}

Выделяются два общих недостатка:

\begin{enumerate}
	\item распределение операций далеко от равномерного
	      (см.~ContrastCAD~\cite{jung24_contrastcad}); большинство
	      моделей — «игрушечные» примитивы без технологической
	      семантики;
	\item крупнейший набор — ABC — не содержит описания конструктивной
	      последовательности, а остальные ограничиваются лишь
	      операциями \textit{sketch–extrude}.
\end{enumerate}

\subsection{Синтетические данные и их ценность}

Первый массовый синтетический набор ABC оказался достаточным,
чтобы обучить классические CNN, но недостаточным для LLM.
Проблема усилилась, когда задачи стали мультимодальными:
невозможно одновременно получить согласованные point-cloud,
рендеры и CAD-код из реального скана в требуемом объёме.

На этом фоне появляются \textit{генераторы процедурной геометрии}.
CAPRI-Net~\cite{yu21_caprinet} и D$^{2}$CSG~\cite{yu23_d2csg}
создают компактные CSG-деревья, однако не обеспечивают полного
контроля над конструктивной последовательностью. CADRecode
предлагает иной путь: \textbf{миллион моделей} с полной историей
построения в виде исполнимого CadQuery-кода, что делает датасет
\textit{реплицируемым, расширяемым} и идеально подходящим для
RL-обучения LLM. Именно этот набор лёг в основу SOTA-моделей
CADRecode и \textit{cadrille}.

\subsection{Метрики и валидационные сеты}

Оценка качества CAD-реконструкции традиционно сводилась к Chamfer
или IoU по мешу. С появлением компилируемого кода стало возможным
проверять:

\begin{itemize}
	\item \textit{Topological accuracy} — совпадение графа
	      «эскиз–операция»;
	\item \textit{Compile rate} — успешность интерпретации кода в
	      ядре OpenCascade;
	\item \textit{Manufacturability} — пригодность к 3D-печати или
	      обработке.
\end{itemize}

Тем не менее ни DeepCAD, ни Fusion360 не предоставляют аннотаций
для подобных проверок. Современные работы начали публиковать
собственные валидационные подмножества (CAD-SIGNet, CAD-MLLM),
но их объём пока невелик. В литературе всё чаще звучит призыв к
\textbf{единообразному бенчмарку}, учитывающему не только геометрию,
но и потенциал редактирования кода.

\subsection{SOTA: CADRecode и \textit{cadrille}}

CADRecode~\cite{rukhovich24_cadrecode} показал, что LLM, обученная только на
исходниках CadQuery, превосходит специализированные сети DeepCAD и MultiCAD по
задаче PointCloud2CAD, однако модель оставалась одномодальной.

\textit{cadrille}~\cite{kolodiazhnyi25_cadrille} делает следующий шаг:
объединяет изображение, облако точек и текст в едином VLM-пространстве
и дообучает декодер с помощью онлайн-RL (GRPO). Результат — новый
SOTA на DeepCAD, Fusion360 и CC3D, подтверждающий гипотезу о том, что
\textit{богатая синтетика + RL на компилируемом коде дают максимальный
	прирост качества}.

Дальнейшие исследования, вероятно, будут сосредоточены на улучшении
генераторов, унификации бенчмарков и расширении форматов кодового
описания CAD.

\newpage